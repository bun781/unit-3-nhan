<!DOCTYPE html>
<!-- saved from url=(0022)http://localhost:6419/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Minh-Nhan_Nguyen.md - Grip</title>
  <link rel="icon" href="http://localhost:6419/__/grip/static/favicon.ico">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/light_tritanopia-9217138a8d5b.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/github-15d4b28ab680.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/repository-4fce88777fa8.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/light-605318cbe3a1.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/global-21a7f868f707.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/notifications-subscriptions-menu.1bcff9205c241e99cff2.module.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/dark-bd1cb5575fff.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/dark_high_contrast-bf3988586de0.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/repos-overview.0ee7cac3ab511a65d9f9.module.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/primer-react.9454cb9ac985e93657ce.module.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/dark_tritanopia-4397d91bdb49.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/light_colorblind-97f0dc959f8f.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/dark_colorblind-27a437876a92.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/dark_dimmed-52a2075571c3.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/primer-93aded0ee8a1.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/primer-primitives-225433424a87.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/code-0210be90f4d3.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/light_high_contrast-708e3a93215a.css">
  <link rel="stylesheet" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/octicons.css">
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
      margin-bottom: 21px;
    }
    /* User-content tweaks */
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
    /* User-content overrides */
    .discussion-timeline.wide {
      width: 920px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="/__/grip/refresh/">
    <main id="js-repo-pjax-container">
      <div class="clearfix new-discussion-timeline container-xl px-3 px-md-4 px-lg-5">
        <div class="repository-content">
          <div class="clearfix">
            <div class="Layout Layout--flowRow-until-md Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end">
              <div class="Layout-main">

                

                  <div id="readme" class="Box md Box--responsive">
                    
                      <div class="Box-header d-flex border-bottom-0 flex-items-center flex-justify-between color-bg-default rounded-top-2">
                        <div class="d-flex flex-items-center">
                          <h2 class="Box-title">
                            Minh-Nhan_Nguyen.md
                          </h2>
                        </div>
                      </div>
                    
                    <div class="Box-body px-5 pb-5">
                      <article id="grip-content" class="markdown-body entry-content container-lg">
                        <div class="markdown-heading"><h1 class="heading-element">Criterion A: Planning</h1><a id="user-content-criterion-a-planning" class="anchor" aria-label="Permalink: Criterion A: Planning" href="http://localhost:6419/#criterion-a-planning"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h2 class="heading-element">Problem Definition</h2><a id="user-content-problem-definition" class="anchor" aria-label="Permalink: Problem Definition" href="http://localhost:6419/#problem-definition"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>My client is an old local restaurateur with a chain of restaurants around the city. Lately, he noticed that the number of customers visiting his restaurants are decreasing since online food ordering and delivering services are on the rise. My client wants to be able to update his service so that the restaurant can compete with these platforms. The restaurant currently only has food delivery via orders done through the phone, but my client said that they refrain from doing so because it provides no written record of the orders. He also said that it generally hurts the relationship between the restaurants and customers because there is nothing recording the order. Furthermore, he said that these disagreements usually start because customers do not know what the dishes look like, nor which ingredients were in it. And as users usually underestimate the cost of delivery to their location, they usually disagree at the food delivery fees. The problem also expands to staff’s reliability in pricing through phones, as they might read the wrong price. He said that whether or not it is accidentally or deliberately, a situation like such should never happen. My client said that most importantly, the restaurant can’t keep track of who is making the calls. He said that the restaurant chain prides on having the best customer service program. Lastly, he requested that the solution should accommodate for his ever expanding restaurant network and food listings.</p>
<div class="markdown-heading"><h2 class="heading-element">Proposed Solution</h2><a id="user-content-proposed-solution" class="anchor" aria-label="Permalink: Proposed Solution" href="http://localhost:6419/#proposed-solution"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>I propose an application that has a graphic user interface (GUI)<sup><a href="http://localhost:6419/#fn-1" id="user-content-fnref-1" data-footnote-ref="">1</a></sup> allowing users to order their food without the compromises of ordering through phone calls; meaning that the restaurant can reliably keep track of the orders, and users can order food knowing exactly what they ordered and where to deliver to. Additionally, it also allows the restaurants employee to edit food listing and restaurant informations to accomodate for the expanding restaurant network.</p>
<p>Python is an interpreted language that is compatible with both Intel x86 and ARM across multiple operating systems<sup><a href="http://localhost:6419/#fn-2" id="user-content-fnref-2" data-footnote-ref="">2</a></sup>. This in addition to Python robust community support and wide range of available libraries allows it to be a great choice for efficiently creating applications that work across multiple platforms.</p>
<p>The graphic framework Kivy and the extension KivyMD will be used to create the GUI for the application. One reason was because Kivy allows responsive design, an important feature when customer’s devices can have varying aspect ratios<sup><a href="http://localhost:6419/#fn-3" id="user-content-fnref-3" data-footnote-ref="">3</a></sup>. Another reason was that KivyMD has Kivy elements that follows Google’s Material Design language, allowing it to appear native and professional<sup><a href="http://localhost:6419/#fn-3" id="user-content-fnref-3-2" data-footnote-ref="">3</a></sup>. Moreover, Kivy and KivyMD were specifically designed to be implemented with Python, making the development more efficient, streamlined, and minimize unexpected behaviour.</p>
<p>The data storage solution will use SQLite. Relational database tools like SQL are preferred over simple storage options such as CSV or JSON files<sup><a href="http://localhost:6419/#fn-4" id="user-content-fnref-4" data-footnote-ref="">4</a></sup>, as data stored is relatively complex and interrelated. SQLite was selected because it is lightweight and embedded, allowing users to quickly access data even when not having stable connections<sup><a href="http://localhost:6419/#fn-5" id="user-content-fnref-5" data-footnote-ref="">5</a></sup>. It also does not require a lot of storage nor a dedicated server, resources that are excessive for the application and require additional operating cost for my client.</p>
<div class="markdown-heading"><h2 class="heading-element">Success Criteria</h2><a id="user-content-success-criteria" class="anchor" aria-label="Permalink: Success Criteria" href="http://localhost:6419/#success-criteria"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<ol>
<li>
<p>The application has a login function both users and employees and a register function for users.</p>
<p><strong>Quote from problem defintion:</strong> "My client said that most importantly, the restaurant can’t keep track of who is making the calls", "there is no one or nothing recording the order"</p>
</li>
<li>
<p>The application allows users to see every detail about food listing.</p>
<p><strong>Quote from the problem definition:</strong> "disagreements usually start because customers do not know what the dishes look like, nor which ingredients were in it"</p>
</li>
<li>
<p>The application allows users to select their location through a map</p>
<p><strong>Quote from the problem definition:</strong> "And as users usually underestimate the cost of delivery to their location, they usually disagree at the food delivery fees"</p>
</li>
<li>
<p>The application allows users to send their orders to a database which employees have access to.</p>
<p><strong>Quote from the problem definition:</strong> "it [order through phones] generally hurts the relationship between the restaurants and customers because there is no one or nothing recording the order"</p>
</li>
<li>
<p>The employee accounts can add or modify food listings to the software and restaurant locations to the map.</p>
<p><strong>Quote from the problem definition:</strong> "requested that the solution should accommodate for his ever expanding restaurant network and food listings"</p>
</li>
</ol>
<div class="markdown-heading"><h1 class="heading-element">Criterion B: Design</h1><a id="user-content-criterion-b-design" class="anchor" aria-label="Permalink: Criterion B: Design" href="http://localhost:6419/#criterion-b-design"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h2 class="heading-element">Test Plan</h2><a id="user-content-test-plan" class="anchor" aria-label="Permalink: Test Plan" href="http://localhost:6419/#test-plan"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<table style="      border: 1px solid black;">
<thead>
<tr>
<th align="left" style="border: 1px solid black;">Test Case</th>
<th align="left" border:="">Procedure</th>
<th align="left">Planned Outcome</th>
<th align="left">Success Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">1</td>
<td align="left">1. Run the program and enter <code>"a"</code> into <code>username</code> on log in screen, and <code>"a"</code> into <code>password</code>. <br> 2. Stop the program and rerun it. <br> 3. Run the program and register a new account. <br> 4. Use the credentials created in the previous step to log in.</td>
<td align="left">- After the first step, the tester should see a screen with a menu that leads to order lists, food listings, and restaurant list. <br> - When the test ends, the tester is on the user screen with cards that display food listings.</td>
<td align="left">1 - The application has a login function both for users and employees and a register function for users.</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">1. Run the program, log in or register then log in into the application.</td>
<td align="left">- The tester can see every food listing organized into cards on the screen.</td>
<td align="left">2 - The application allows users to see every detail about food listings.</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">1. Run the program, log in or register then log in into the application. <br> 2. Click on the items that the testers want to add to the order. <br> 3. Click the <code>View Cart</code> button at the bottom of the screen. <br> 4. Click <code>Confirm Order</code>. <br> 5. Dismiss the dialog. <br> 6. Select location on the map. <br> 7. Select a different location on the map. <br> 8. Click confirm order.</td>
<td align="left">- After completing step 2, the tester should be moved into a screen with a map. <br> - After completing step 3, a dialog appears and states that the user needs to select their location. <br> - After completing step 8, a dialog appears and states that the order has been successfully placed.</td>
<td align="left">3 - The application allows users to select their location through a map.</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">1. Complete test case 3. <br> 2. Stop the program. <br> 3. Run the program again and input <code>"a"</code> as username and <code>"a"</code> as password. <br> 4. Click on the button that says <code>Order archive</code>.</td>
<td align="left">- The order placed by the tester appears in the table shown in the order archive screen.</td>
<td align="left">4 - The application allows users to send their orders to a database which employees have access to.</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">1. Run the program and input <code>"a"</code> as username and <code>"a"</code> as password. <br> 2. Click the button that says <code>Restaurant list</code>. <br> 3. Click on any row, modify the data in the row. <br> 4. Stop the program. <br> 5. Run the program and input <code>"a"</code> as username and <code>"a"</code> as password. <br> 6. Click the button that says <code>Restaurant list</code>. <br> 7. Add a new restaurant via the <code>Add new</code> button. <br> 8. Stop the program. <br> 9. Run the program, log in or register then log in into the application. <br> 10. Choose a food item and click the <code>View Cart</code> button.</td>
<td align="left">- After step 6, the tester will see that the row they modified retained its modification even after a program restart. <br> - After step 10, the tester will see that the new location they added appears on the map.</td>
<td align="left">5 - The employee accounts can add or modify food listings to the software and restaurant locations to the map.</td>
</tr>
</tbody>
</table>
<div class="markdown-heading"><h2 class="heading-element">Flow Diagrams</h2><a id="user-content-flow-diagrams" class="anchor" aria-label="Permalink: Flow Diagrams" href="http://localhost:6419/#flow-diagrams"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/c3a995d9-ebb6-4e24-9716-45f2199b7ee2"><img src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/c3a995d9-ebb6-4e24-9716-45f2199b7ee2" alt="image" style="max-width: 100%;"></a></p>
<p>Fig x. Flow diagram of the software's login method from the LoginScreen class that can differentiate between employees and customer</p>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/4692d369-d84d-4853-a196-434c2446a2a6"><img src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/4692d369-d84d-4853-a196-434c2446a2a6" alt="image" style="max-width: 100%;"></a></p>
<p>Fig x. Flow diagram of the software's method to add new items to any table of the database</p>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/a6d1c5db-ae16-4a78-bc61-9c7e36876585"><img src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/a6d1c5db-ae16-4a78-bc61-9c7e36876585" alt="image" style="max-width: 100%;"></a></p>
<p>Fig x. Flow diagram of the software's method that can send and store customer's order in the database</p>
<div class="markdown-heading"><h2 class="heading-element">System Diagram</h2><a id="user-content-system-diagram" class="anchor" aria-label="Permalink: System Diagram" href="http://localhost:6419/#system-diagram"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/4d99e418-e7dd-45dd-bf90-9334d3abbdc2"><img src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/4d99e418-e7dd-45dd-bf90-9334d3abbdc2" alt="image" style="max-width: 100%;"></a></p>
<div class="markdown-heading"><h2 class="heading-element">ER Diagram</h2><a id="user-content-er-diagram" class="anchor" aria-label="Permalink: ER Diagram" href="http://localhost:6419/#er-diagram"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/5cc258b3-c666-4241-9d73-30e15d06a232"><img width="1164" alt="image" src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/5cc258b3-c666-4241-9d73-30e15d06a232" style="max-width: 100%;"></a></p>
<div class="markdown-heading"><h2 class="heading-element">UML Diagram</h2><a id="user-content-uml-diagram" class="anchor" aria-label="Permalink: UML Diagram" href="http://localhost:6419/#uml-diagram"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a target="_blank" rel="noopener noreferrer" href="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/c92d6601-33cc-43bc-be9d-b80ee4ecbb55"><img src="../../Downloads/Minh-Nhan_Nguyen.md%20-%20Grip_files/c92d6601-33cc-43bc-be9d-b80ee4ecbb55" alt="image" style="max-width: 100%;"></a></p>
<div class="markdown-heading"><h2 class="heading-element">Record of Tasks</h2><a id="user-content-record-of-tasks" class="anchor" aria-label="Permalink: Record of Tasks" href="http://localhost:6419/#record-of-tasks"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<table>
<thead>
<tr>
<th>Task Number</th>
<th>Planned Action</th>
<th>Planned Outcome</th>
<th>Time Estimated</th>
<th>Target Completion Date</th>
<th>Criterion</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>First meeting with client</td>
<td>Have a clear problem definition</td>
<td>10 minutes</td>
<td>Jan 30</td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>Draft proposed solution and present to client</td>
<td>Provide the client with an idea of a solution to their problem</td>
<td>30 minutes</td>
<td>Feb 3</td>
<td>A</td>
</tr>
<tr>
<td>3</td>
<td>Draft and propose success criteria to client</td>
<td>Provide the client with an idea of a solution to their problem</td>
<td>30 minutes</td>
<td>Feb 3</td>
<td>A</td>
</tr>
<tr>
<td>4</td>
<td>Modify the success criteria and proposed solution based on client's feedback</td>
<td>Have a proposed solution and success criteria that the client agrees with</td>
<td>30 minutes</td>
<td>Feb 5</td>
<td>A</td>
</tr>
<tr>
<td>5</td>
<td>Create wireframe diagrams for software's screen</td>
<td>Determine a clear user interface for the software</td>
<td>1 hour 20 minutes</td>
<td>Feb 10</td>
<td>B</td>
</tr>
<tr>
<td>6</td>
<td>Create ER diagram for database and create it in python</td>
<td>Have a clear idea of how data interact with code and each other</td>
<td>1 hour 20 minutes</td>
<td>Feb 12</td>
<td>B</td>
</tr>
<tr>
<td>7</td>
<td>Create a test plan</td>
<td>Have a clear view on what I need to test in order to fulfill the Success Criteria</td>
<td>40 minutes</td>
<td>Feb 12</td>
<td>B</td>
</tr>
<tr>
<td>8</td>
<td>Determine possible complex operations in the program</td>
<td>Ensure that the product gets delivered in time</td>
<td>20 minutes</td>
<td>Feb 12</td>
<td>B</td>
</tr>
<tr>
<td>9</td>
<td>Create an overview flowchart for complex operations in the program</td>
<td>Have a clear idea of how data tables interact with code and each other</td>
<td>3 hours</td>
<td>Feb 13</td>
<td>B</td>
</tr>
<tr>
<td>10</td>
<td>Create a basic functional log in screen</td>
<td>Users can log in, and software can distinguish between employees and customers</td>
<td>70 minutes</td>
<td>Feb 13</td>
<td>C</td>
</tr>
<tr>
<td>11</td>
<td>Create a basic functional registration screen</td>
<td>Screen allows for registration of new customer accounts</td>
<td>70 minutes</td>
<td>Feb 14</td>
<td>C</td>
</tr>
<tr>
<td>12</td>
<td>Add verification hash to user login information</td>
<td>Ensure that database cannot be altered to make unauthorized users access employee screen</td>
<td>30 minutes</td>
<td>Feb 14</td>
<td>C</td>
</tr>
<tr>
<td>13</td>
<td>Improve aesthetic of log in and registration screen</td>
<td>Improve user experience</td>
<td>30 minutes</td>
<td>Feb 15</td>
<td>C</td>
</tr>
<tr>
<td>14</td>
<td>Create a map that can show the restaurants stored in the database</td>
<td>Users have a way to visualize their location</td>
<td>1 hour 40 minutes</td>
<td>Feb 20</td>
<td>C</td>
</tr>
<tr>
<td>15</td>
<td>Add the feature that allows a marker to spawn on the map where clicked</td>
<td>Users can select their location</td>
<td>10 minutes</td>
<td>Feb 22</td>
<td>C</td>
</tr>
<tr>
<td>16</td>
<td>Create a function that automatically adds food cards to the screen</td>
<td>Information in the database is presented to users in a convenient way</td>
<td>1 hour 30 minutes</td>
<td>Feb 23</td>
<td>C</td>
</tr>
<tr>
<td>17</td>
<td>Add a function that submits the order to the database</td>
<td>Orders are recorded properly</td>
<td>20 minutes</td>
<td>Feb 25</td>
<td>C</td>
</tr>
<tr>
<td>18</td>
<td>Add logic to find the closest restaurant to the map marker</td>
<td>Users can accurately know which location is closest to them</td>
<td>40 minutes</td>
<td>Feb 25</td>
<td>C</td>
</tr>
<tr>
<td>19</td>
<td>Add a way to draw lines from the closest restaurant to the marker</td>
<td>Easier for users to visualize where the restaurant and their location are located on the map</td>
<td>20 minutes</td>
<td>Feb 25</td>
<td>C</td>
</tr>
<tr>
<td>20</td>
<td>Add code to correct screen touch information to map coordinates</td>
<td>Ensure that map touch is accurately translated into map coordinates regardless of screen resolution</td>
<td>15 minutes</td>
<td>Feb 28</td>
<td>C</td>
</tr>
<tr>
<td>21</td>
<td>Create hamburger menu to switch between employee screens</td>
<td>Ensure consistency in UI between the screens</td>
<td>1 hour</td>
<td>March 1</td>
<td>C</td>
</tr>
<tr>
<td>22</td>
<td>Create table template for employee screens</td>
<td>Minimize possible error points in employee screens</td>
<td>2 hours</td>
<td>March 3</td>
<td>C</td>
</tr>
<tr>
<td>23</td>
<td>Add function to retrieve column name for employee's tables</td>
<td>Software retrieves the right data based on the type of employee screen</td>
<td>20 minutes</td>
<td>March 3</td>
<td>C</td>
</tr>
<tr>
<td>24</td>
<td>Add function to retrieve row data from employee's tables</td>
<td>Tables in employee screens show the right type of data</td>
<td>25 minutes</td>
<td>March 5</td>
<td>C</td>
</tr>
<tr>
<td>25</td>
<td>Integrate row and column data retrieved from database to table template for employee screens</td>
<td>Tables in employee screens show the right type of data</td>
<td>1 hour</td>
<td>March 5</td>
<td>C</td>
</tr>
<tr>
<td>26</td>
<td>Add way to modify rows in table</td>
<td>Employees can modify preexisting data in table</td>
<td>1 hour 20 minutes</td>
<td>March 8</td>
<td>C</td>
</tr>
<tr>
<td>27</td>
<td>Add function to add new rows to the table</td>
<td>Employees can add additional data to the table</td>
<td>20 minutes</td>
<td>March 8</td>
<td>C</td>
</tr>
<tr>
<td>28</td>
<td>Add function to save new row and modified row to database</td>
<td>Data from table can be correctly saved to the database</td>
<td>20 minutes</td>
<td>March 9</td>
<td>C</td>
</tr>
<tr>
<td>29</td>
<td>Verify that text fields only accept the type of data they should accept</td>
<td>Minimize the risk that calculations and functions that use data from these text fields deviate from what they are supposed to perform</td>
<td>40 minutes</td>
<td>March 9</td>
<td>C</td>
</tr>
<tr>
<td>30</td>
<td>Add hint and error texts to text fields</td>
<td>Improve the user experience</td>
<td>30 minutes</td>
<td>March 9</td>
<td>C</td>
</tr>
<tr>
<td>31</td>
<td>Run tests in accordance to the test plan</td>
<td>Run tests in accordance with the test plan</td>
<td>20 minutes</td>
<td>March 10</td>
<td>B/C/D</td>
</tr>
<tr>
<td>32</td>
<td>Add a function that allows users to remove items from their cart</td>
<td>Users can effectively manage their cart, fulfilling feedback from client</td>
<td>45 minutes</td>
<td>March 10</td>
<td>C</td>
</tr>
<tr>
<td>33</td>
<td>Create demonstration video for my product</td>
<td>Verify that my product works in its entirety</td>
<td>45 minutes</td>
<td>March 11</td>
<td>D</td>
</tr>
<tr>
<td>34</td>
<td>Add additional comments to clarify my code</td>
<td>Increase ease of possible future modifications</td>
<td>20 minutes</td>
<td>March 11</td>
<td>D</td>
</tr>
<tr>
<td>35</td>
<td>Meet client for final evaluation</td>
<td>Client confirms that the program fulfills every success criteria</td>
<td>20 minutes</td>
<td>March 11</td>
<td>A/D</td>
</tr>
</tbody>
</table>
<div class="markdown-heading"><h1 class="heading-element">Criterion C: Development</h1><a id="user-content-criterion-c-development" class="anchor" aria-label="Permalink: Criterion C: Development" href="http://localhost:6419/#criterion-c-development"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h2 class="heading-element">Success Criteria 4 &amp; 5: Inheriting template classes to allow user-friendly access to the database.</h2><a id="user-content-success-criteria-4--5-inheriting-template-classes-to-allow-user-friendly-access-to-the-database" class="anchor" aria-label="Permalink: Success Criteria 4 &amp; 5: Inheriting template classes to allow user-friendly access to the database." href="http://localhost:6419/#success-criteria-4--5-inheriting-template-classes-to-allow-user-friendly-access-to-the-database"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>As stated in the proposed solution, data about user orders, food listings, and restaurants are stored in an SQLite database. Additionally, success critera 4 &amp; 5 requires that employee accounts can modify customer orders, in addition to modify information about food listings and retaurants. Therefore, to complete these two success criteria, the software needs to provide a way for the users to edit the database via its graphic interface.</p>
<p>Firstly, to view the data, the kivyMD framework provides a table widget through the MDDataTable class. When initialized, this class requires a list containing the column name as well as another list containing the data of each row, which can be retrieved from the database. The code belows shows the initialization of the data table in the software.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-s1">self</span>.<span class="pl-c1">data_table</span> <span class="pl-c1">=</span> <span class="pl-en">MDDataTable</span>(
    <span class="pl-s1">column_data</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">column_data</span>, <span class="pl-c"># self.column_data is a list of column name, should be written in manually by the developer, as not every column stored in the database, such as confirmation hashes or id need or should be displayed.</span>
    <span class="pl-s1">row_data</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">row_data</span>, <span class="pl-c"># self.row_data is a list of row data, retrieved via a query to the application's database</span>

    <span class="pl-c"># formatting code that does not depend on information inserted</span>
    <span class="pl-s1">size_hint</span> <span class="pl-c1">=</span> (<span class="pl-c1">0.9</span>, <span class="pl-c1">0.8</span>),
    <span class="pl-s1">pos_hint</span> <span class="pl-c1">=</span> {<span class="pl-s">"center_x"</span>: <span class="pl-c1">0.5</span>, <span class="pl-s">"center_y"</span>: <span class="pl-c1">0.5</span>},
    <span class="pl-s1">use_pagination</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span>, <span class="pl-c"># data is cleanly divided into pages</span>
    <span class="pl-s1">rows_num</span> <span class="pl-c1">=</span> <span class="pl-c1">10</span>  <span class="pl-c"># show 10 rows per page</span>
)</pre></div>
<p>This is great way to display the database information because the code for the graphic widget is independent of the table data, meaning that each data table that the employee need access to (orders, food listing, and restaurants), can easily be deployed through changing the column name list, <code>self.column_data</code>, and the row data list, <code>self.row_data</code>.</p>
<p>Constructing the tables through this method not only allows for the current tables to have a consistent style, it also allows developers to easily add additional tables by simply changing the column and row data, while also maintaining consistency in design.</p>
<p><code>self.row_data</code> can be retrieved directly from the SQLite database through the <code>get_row_data</code> method, which queries the database on the row data.</p>
<div class="highlight highlight-source-python"><pre>    <span class="pl-k">def</span> <span class="pl-en">get_row_data</span>(<span class="pl-s1">self</span>):
        <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-en">DatabaseManager</span>(<span class="pl-s">'database.db'</span>) <span class="pl-c"># connect with the database</span>
        <span class="pl-s1">row_data</span> <span class="pl-c1">=</span> <span class="pl-s1">db</span>.<span class="pl-c1">execute</span>(<span class="pl-s1">self</span>.<span class="pl-c1">row_query</span>) <span class="pl-c"># self.row_query is inputted by the user</span>
        <span class="pl-s1">db</span>.<span class="pl-c1">close</span>()
        <span class="pl-k">return</span> <span class="pl-s1">row_data</span></pre></div>
<p>To keep the style consistent and limit the number of possible error points, the screens that display the data for employees can each be a class that inherits from a template class that allows them to display different data by having different values for keyword arguments upon initialization.</p>
<p>Inherited classes were used instead of class instances because kivyMD requires that each screen needs to be initialized by a python class of the same name <sup><a href="http://localhost:6419/#fn-6" id="user-content-fnref-6" data-footnote-ref="">6</a></sup>. Therefore, an instance would possibly cause errors with kivyMD, and class that inherits from template were used instead.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-v">EmployeeRestaurantList</span>(<span class="pl-v">EmployeeTemplate</span>):
    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>):
        <span class="pl-s1">kwargs</span>[<span class="pl-s">"name"</span>] <span class="pl-c1">=</span> <span class="pl-s">"restaurant"</span> 
        <span class="pl-s1">kwargs</span>[<span class="pl-s">"screen_name"</span>] <span class="pl-c1">=</span> <span class="pl-s">"EmployeeRestaurantList"</span>
        <span class="pl-s1">kwargs</span>[<span class="pl-s">"column_data"</span>] <span class="pl-c1">=</span> [ <span class="pl-c"># column names</span>
            (<span class="pl-s">"name"</span>, <span class="pl-en">dp</span>(<span class="pl-c1">50</span>)), <span class="pl-c"># tuple is in the format of (column name, column display width)</span>
            (<span class="pl-s">"location"</span>, <span class="pl-en">dp</span>(<span class="pl-c1">50</span>)),
            (<span class="pl-s">"restaurant_id"</span>, <span class="pl-en">dp</span>(<span class="pl-c1">40</span>)),
        ]
        <span class="pl-s1">kwargs</span>[<span class="pl-s">"row_query"</span>] <span class="pl-c1">=</span> <span class="pl-s">'''select name, location, restaurant_id from restaurant'''</span> <span class="pl-c"># this query retrieves the data needed for the table</span>

        <span class="pl-s1">kwargs</span>[<span class="pl-s">"id_name"</span>] <span class="pl-c1">=</span> <span class="pl-s">"restaurant_id"</span> <span class="pl-c"># define the column that contains the priary key to the database table</span>
        <span class="pl-en">super</span>().<span class="pl-c1">__init__</span>(<span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</pre></div>
<div class="markdown-heading"><h2 class="heading-element">Success criteria 3: Creating an interactive map that shows restaurants and allows user to select their location</h2><a id="user-content-success-criteria-3-creating-an-interactive-map-that-shows-restaurants-and-allows-user-to-select-their-location" class="anchor" aria-label="Permalink: Success criteria 3: Creating an interactive map that shows restaurants and allows user to select their location" href="http://localhost:6419/#success-criteria-3-creating-an-interactive-map-that-shows-restaurants-and-allows-user-to-select-their-location"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-python-kivy"><pre><span class="pl-c1">MapView:</span>
    <span class="pl-c1">id</span>: map_view
    size_hint: <span class="pl-c1">1</span>, <span class="pl-c1">1</span>
    pos_hint_x: <span class="pl-c1">0.5</span>

    <span class="pl-c">#this is the center of the current restaurants, but future developers can </span>
    lat: <span class="pl-c1">35.653798</span>
    lon: <span class="pl-c1">139.816640</span>

    zoom: <span class="pl-c1">8</span>
    double_tap_zoom: <span class="pl-c1">False</span>
    min_zoom: <span class="pl-c1">10</span>
    on_touch_down: root.add_marker(<span class="pl-k">*</span>args) <span class="pl-c"># *args passes the information about the touch event</span></pre></div>
<p>Kivy can generates a blank interactive map using the openstreetmap application programming interface (API) through the MapView class. The code above defines a map that is centered round <code>lat</code> latitude and <code>lon</code> longitude, and the <code>root.add_marker()</code> method will be called upon the map being touched.</p>
<p>This method again highlights the benefits of using kivy. Instead of manually requesting an API key from openstreetmap and creating the code necessary to display the map, kivy can do that with a short piece of code without the developer ever needing to directly communicate with openstreetmap.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">on_pre_enter</span>(<span class="pl-s1">self</span>, <span class="pl-c1">*</span><span class="pl-s1">args</span>):
    <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">container</span>.<span class="pl-c1">clear_widgets</span>()  <span class="pl-c"># clear map if the user already placed their order once and needs to come back to the screen</span>

    <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-en">DatabaseManager</span>(<span class="pl-s">"database.db"</span>) <span class="pl-c"># connect with the database</span>
    <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"select * from restaurant"</span> <span class="pl-c"># select every restaurant from restaurant</span>
    <span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span> <span class="pl-c1">=</span> <span class="pl-s1">db</span>.<span class="pl-c1">execute</span>(<span class="pl-s1">query</span>)
    <span class="pl-s1">db</span>.<span class="pl-c1">close</span>()

    <span class="pl-k">for</span> <span class="pl-s1">restaurant</span> <span class="pl-c1">in</span> <span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span>:
        <span class="pl-s1">lat</span>, <span class="pl-s1">lon</span> <span class="pl-c1">=</span> <span class="pl-s1">restaurant</span>[<span class="pl-c1">2</span>].<span class="pl-c1">split</span>(<span class="pl-s">";"</span>) <span class="pl-c"># retrieve the latitude and longitude of the restaurant</span>
        <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">map_view</span>.<span class="pl-c1">add_widget</span>(<span class="pl-en">MapMarker</span>(<span class="pl-s1">lat</span><span class="pl-c1">=</span><span class="pl-s1">lat</span>, <span class="pl-s1">lon</span><span class="pl-c1">=</span><span class="pl-s1">lon</span>)) <span class="pl-c"># add a marker to the map at the coordinates retrieved</span></pre></div>
<p>The code above shows that upon entering the screen that has the map, the program will retrieve the position of each restaurant from the database and create a corresponding MapMarker object on the map.</p>
<p>To save space on the database by having less columns and data points, the coordinate of the restaurants are stored togther in one column in the form of "latitude;longitude". Once retrieve from the database, this information will be split into the <code>lat</code> and <code>lon</code> variable through the built-in <code>split()</code> method for python strings to be used to generat the map marker for the restaurant.</p>
<div class="highlight highlight-source-python"><pre>    <span class="pl-k">def</span> <span class="pl-en">add_marker</span>(<span class="pl-s1">self</span>, <span class="pl-s1">instance</span>, <span class="pl-s1">touch</span>):
        <span class="pl-k">if</span> <span class="pl-s1">instance</span>.<span class="pl-c1">collide_point</span>(<span class="pl-c1">*</span><span class="pl-s1">touch</span>.<span class="pl-c1">pos</span>): <span class="pl-c"># if the touch is within the map</span>

        <span class="pl-c"># creating the map marker</span>
            <span class="pl-s1">map_view</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">map_view</span>

            <span class="pl-c"># touch is the position where the screen was touched, map_view.pos is where the map is placed within the screen</span>
            <span class="pl-s1">rel_x</span> <span class="pl-c1">=</span> <span class="pl-s1">touch</span>.<span class="pl-c1">x</span> <span class="pl-c1">-</span> <span class="pl-s1">map_view</span>.<span class="pl-c1">pos</span>[<span class="pl-c1">0</span>] 
            <span class="pl-s1">rel_y</span> <span class="pl-c1">=</span> <span class="pl-s1">touch</span>.<span class="pl-c1">y</span> <span class="pl-c1">-</span> <span class="pl-s1">map_view</span>.<span class="pl-c1">pos</span>[<span class="pl-c1">1</span>]

            <span class="pl-c"># convert the screen coordinate to map coordinate</span>
            <span class="pl-s1">lat</span>, <span class="pl-s1">lon</span> <span class="pl-c1">=</span> <span class="pl-s1">map_view</span>.<span class="pl-c1">get_latlon_at</span>(<span class="pl-s1">rel_x</span>, <span class="pl-s1">rel_y</span>)
            <span class="pl-s1">self</span>.<span class="pl-c1">lat</span> <span class="pl-c1">=</span> <span class="pl-s1">lat</span>
            <span class="pl-s1">self</span>.<span class="pl-c1">lon</span> <span class="pl-c1">=</span> <span class="pl-s1">lon</span>

            <span class="pl-c"># remove marker and line if it already exists, as one order cannot be delivered to two separate locations</span>
            <span class="pl-k">if</span> <span class="pl-s1">self</span>.<span class="pl-c1">current_marker</span>: 
                <span class="pl-s1">map_view</span>.<span class="pl-c1">remove_widget</span>(<span class="pl-s1">self</span>.<span class="pl-c1">current_marker</span>)
            <span class="pl-k">if</span> <span class="pl-s1">self</span>.<span class="pl-c1">current_line</span>:
                <span class="pl-s1">map_view</span>.<span class="pl-c1">remove_widget</span>(<span class="pl-s1">self</span>.<span class="pl-c1">current_line</span>)

            <span class="pl-c"># create the map marker object and add it to the map</span>
            <span class="pl-s1">self</span>.<span class="pl-c1">current_marker</span> <span class="pl-c1">=</span> <span class="pl-en">MapMarker</span>(<span class="pl-s1">lat</span><span class="pl-c1">=</span><span class="pl-s1">lat</span>, <span class="pl-s1">lon</span><span class="pl-c1">=</span><span class="pl-s1">lon</span>)
            <span class="pl-s1">map_view</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">self</span>.<span class="pl-c1">current_marker</span>)

        <span class="pl-c"># finding the closest restaurant</span>
            <span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span> <span class="pl-c1">=</span> []
            <span class="pl-k">for</span> <span class="pl-s1">i</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-en">len</span>(<span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span>)): <span class="pl-c"># for every restaurant</span>

                <span class="pl-c"># retrieve the latitude and longitude of the restaurants and convert them from strings to floats</span>
                <span class="pl-s1">lat_r</span>, <span class="pl-s1">lon_r</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span>[<span class="pl-s1">i</span>][<span class="pl-c1">2</span>].<span class="pl-c1">split</span>(<span class="pl-s">";"</span>) 
                <span class="pl-s1">lon_r</span> <span class="pl-c1">=</span> <span class="pl-en">float</span>(<span class="pl-s1">lon_r</span>)
                <span class="pl-s1">lat_r</span> <span class="pl-c1">=</span> <span class="pl-en">float</span>(<span class="pl-s1">lat_r</span>)

                <span class="pl-c"># find the closest restaurant to the user's location</span>
                <span class="pl-s1">n</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">haversine</span>(<span class="pl-s1">lon</span>, <span class="pl-s1">lat</span>, <span class="pl-s1">lon_r</span>, <span class="pl-s1">lat_r</span>) <span class="pl-c"># use the haversine formula because the earth is not flat.</span>

                <span class="pl-k">if</span> <span class="pl-c1">not</span> <span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span>: <span class="pl-c"># set the current restaurant as the closest one if there is nothing in the closest_point list yet</span>
                    <span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span> <span class="pl-c1">=</span> [<span class="pl-s1">n</span>, <span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span>[<span class="pl-s1">i</span>][<span class="pl-c1">1</span>], (<span class="pl-s1">lat_r</span>, <span class="pl-s1">lon_r</span>)]
                <span class="pl-k">elif</span> <span class="pl-s1">n</span> <span class="pl-c1">&lt;</span> <span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span>[<span class="pl-c1">0</span>]: <span class="pl-c"># first index of self.closest_point is the distance</span>
                    <span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span> <span class="pl-c1">=</span> [<span class="pl-s1">n</span>, <span class="pl-s1">self</span>.<span class="pl-c1">restaurants</span>[<span class="pl-s1">i</span>][<span class="pl-c1">1</span>], (<span class="pl-s1">lat_r</span>, <span class="pl-s1">lon_r</span>)]

            <span class="pl-c"># after the loop, the restaurant that is closest to the marker remains in the self.closest_point list. Draw line to that point</span>
            <span class="pl-s1">self</span>.<span class="pl-c1">draw_path</span>(<span class="pl-s1">lat</span>, <span class="pl-s1">lon</span>,<span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span>[<span class="pl-c1">2</span>])

            <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">map_view_closest_store</span>.<span class="pl-c1">text</span> <span class="pl-c1">=</span> <span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span>[<span class="pl-c1">0</span>]:.2f<span class="pl-kos">}</span></span>Km away, closest to <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">self</span>.<span class="pl-c1">closest_point</span>[<span class="pl-c1">1</span>]<span class="pl-kos">}</span></span>'</span></pre></div>
<p>The code above describes the <code>add_marker()</code> method, which is called when a user's touch is recorded on the map. It adjust coordinate of the user's touch event based on the position of the map on the screen in order to accurate change it into the correct map coordinate.</p>
<p>As one order cannot go to multiple location, the code uses simple if statement to check whether or not a marker already exists and removes it; a basic statement that minimizes any unexpected behaviour.</p>
<p>For a similar reason, a basic for loop that loops through the list of restaurants allows the code to find the closest restaurant to the marker in linear time. Attempting to minimize unexpected bahaviour like these two example is important because kivyMD is a framework that has a high level of abstraction, making it difficult and impractical for developers to account for every possible behaviour of the framework. Therefore, keeping the code's logic simple is important.</p>
<p>Additionally, code separation is important for the ease of further expansion of the program. The line drawn between the customer's location and the closest restaurant is in its separate class, it is a MapLayer class that specifically create a line on the map. By separating it into its own class, if the method that creates this class successfully executes but the line does not show up, the develop will know that it is a problem with their kivyMD code, not the program's logic, aiding in debugging.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">class</span> <span class="pl-v">LineLayer</span>(<span class="pl-v">MapLayer</span>):
    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>, <span class="pl-s1">point_a</span>, <span class="pl-s1">point_b</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>):
        <span class="pl-en">super</span>().<span class="pl-c1">__init__</span>(<span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)
        <span class="pl-s1">self</span>.<span class="pl-c1">point_a</span> <span class="pl-c1">=</span> <span class="pl-s1">point_a</span>
        <span class="pl-s1">self</span>.<span class="pl-c1">point_b</span> <span class="pl-c1">=</span> <span class="pl-s1">point_b</span>
    <span class="pl-k">def</span> <span class="pl-en">draw_line</span>(<span class="pl-s1">self</span>):
        <span class="pl-s1">self</span>.<span class="pl-c1">canvas</span>.<span class="pl-c1">clear</span>()
        <span class="pl-s1">mapview</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">parent</span>
        <span class="pl-k">if</span> <span class="pl-c1">not</span> <span class="pl-s1">mapview</span>:
            <span class="pl-k">return</span>
        <span class="pl-k">with</span> <span class="pl-s1">self</span>.<span class="pl-c1">canvas</span>:
            <span class="pl-en">Color</span>(<span class="pl-c1">1</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1</span>)
            <span class="pl-s1">x1</span>, <span class="pl-s1">y1</span> <span class="pl-c1">=</span> <span class="pl-s1">mapview</span>.<span class="pl-c1">get_window_xy_from</span>(<span class="pl-s1">lat</span><span class="pl-c1">=</span><span class="pl-s1">self</span>.<span class="pl-c1">point_a</span>[<span class="pl-c1">0</span>], <span class="pl-s1">lon</span><span class="pl-c1">=</span><span class="pl-s1">self</span>.<span class="pl-c1">point_a</span>[<span class="pl-c1">1</span>], <span class="pl-s1">zoom</span><span class="pl-c1">=</span><span class="pl-s1">mapview</span>.<span class="pl-c1">zoom</span>)
            <span class="pl-s1">x2</span>, <span class="pl-s1">y2</span> <span class="pl-c1">=</span> <span class="pl-s1">mapview</span>.<span class="pl-c1">get_window_xy_from</span>(<span class="pl-s1">lat</span><span class="pl-c1">=</span><span class="pl-s1">self</span>.<span class="pl-c1">point_b</span>[<span class="pl-c1">0</span>], <span class="pl-s1">lon</span><span class="pl-c1">=</span><span class="pl-s1">self</span>.<span class="pl-c1">point_b</span>[<span class="pl-c1">1</span>], <span class="pl-s1">zoom</span><span class="pl-c1">=</span><span class="pl-s1">mapview</span>.<span class="pl-c1">zoom</span>)
            <span class="pl-en">Line</span>(<span class="pl-s1">points</span><span class="pl-c1">=</span>[<span class="pl-s1">x1</span>, <span class="pl-s1">y1</span>, <span class="pl-s1">x2</span>, <span class="pl-s1">y2</span>], <span class="pl-s1">width</span><span class="pl-c1">=</span><span class="pl-c1">4</span>)  <span class="pl-c"># Increased line thickness</span></pre></div>
<div class="markdown-heading"><h2 class="heading-element">Food card</h2><a id="user-content-food-card" class="anchor" aria-label="Permalink: Food card" href="http://localhost:6419/#food-card"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">on_pre_enter</span>(<span class="pl-s1">self</span>, <span class="pl-c1">*</span><span class="pl-s1">args</span>):
    <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-en">DatabaseManager</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"database.db"</span>) <span class="pl-c"># connect with the database</span>
    <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">f'''select * from food_listing'''</span>
    <span class="pl-s1">foods</span> <span class="pl-c1">=</span> <span class="pl-s1">db</span>.<span class="pl-c1">execute</span>(<span class="pl-s1">query</span><span class="pl-c1">=</span><span class="pl-s1">query</span>) <span class="pl-c"># retrieve food listings from the database</span>
    <span class="pl-s1">db</span>.<span class="pl-c1">close</span>() <span class="pl-c"># close the connection with the database to save resources</span>

    <span class="pl-k">for</span> <span class="pl-s1">food</span> <span class="pl-c1">in</span> <span class="pl-s1">foods</span>: <span class="pl-c"># create a card for each food</span>
        <span class="pl-s1">card</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">create_card</span>(<span class="pl-s1">food</span>)
        <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">container</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">card</span>)</pre></div>
<p>The code above shows how the program creates cards for food listing by querying the database on the information about every food listing and make a card for each of the retrieved food listings using the <code>self.create_card()</code> method. The code below shows how such cards are created. The method <code>food</code> argument is a list that contains information about each food listing. Generating food cards based on the information stored in the database, as opposed to storing it in the code itself, allows for information of each food card to consistently update with the employee account's modification to the food data.</p>
<div class="highlight highlight-source-python"><pre>    <span class="pl-k">def</span> <span class="pl-en">create_card</span>(<span class="pl-s1">self</span>, <span class="pl-s1">food</span>:<span class="pl-smi">list</span>):
        <span class="pl-s1">card</span> <span class="pl-c1">=</span> <span class="pl-en">MDCard</span>( <span class="pl-c"># creates a main MDCard to nest everything in</span>
            <span class="pl-s1">size_hint</span><span class="pl-c1">=</span>(<span class="pl-c1">None</span>, <span class="pl-c1">None</span>),
            <span class="pl-s1">size</span><span class="pl-c1">=</span>(<span class="pl-s">"350dp"</span>, <span class="pl-s">"110dp"</span>),
            <span class="pl-s1">radius</span><span class="pl-c1">=</span>[<span class="pl-c1">30</span>],
            <span class="pl-s1">elevation</span><span class="pl-c1">=</span><span class="pl-c1">2</span>,
            <span class="pl-s1">pos_hint</span><span class="pl-c1">=</span>{<span class="pl-s">"center_x"</span>: <span class="pl-c1">0.5</span>},
            <span class="pl-s1">on_release</span> <span class="pl-c1">=</span> <span class="pl-k">lambda</span> <span class="pl-s1">x</span>: <span class="pl-s1">self</span>.<span class="pl-c1">place_order</span>(<span class="pl-s1">food</span>[<span class="pl-c1">0</span>])
        )

        <span class="pl-s1">layout</span> <span class="pl-c1">=</span> <span class="pl-en">MDBoxLayout</span>(
            <span class="pl-s1">orientation</span><span class="pl-c1">=</span><span class="pl-s">"horizontal"</span>,
            <span class="pl-s1">spacing</span><span class="pl-c1">=</span><span class="pl-s">"8dp"</span>,
            <span class="pl-s1">padding</span><span class="pl-c1">=</span>(<span class="pl-s">"10dp"</span>, <span class="pl-s">"5dp"</span>),
            <span class="pl-s1">size_hint_y</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,
            <span class="pl-s1">height</span><span class="pl-c1">=</span><span class="pl-s1">card</span>.<span class="pl-c1">height</span>,
            <span class="pl-s1">pos_hint</span><span class="pl-c1">=</span>{<span class="pl-s">"center_x"</span>: <span class="pl-c1">0.5</span>, <span class="pl-s">"center_y"</span>: <span class="pl-c1">0.5</span>}
        )

        <span class="pl-c"># Image container</span>
        <span class="pl-s1">image_card</span> <span class="pl-c1">=</span> <span class="pl-en">MDCard</span>( <span class="pl-c"># image of the food</span>
            <span class="pl-s1">size_hint</span><span class="pl-c1">=</span>(<span class="pl-c1">None</span>, <span class="pl-c1">None</span>),
            <span class="pl-s1">size</span><span class="pl-c1">=</span>(<span class="pl-s">"80dp"</span>, <span class="pl-s">"80dp"</span>),
            <span class="pl-s1">radius</span><span class="pl-c1">=</span>[<span class="pl-c1">35</span>],
            <span class="pl-s1">elevation</span><span class="pl-c1">=</span><span class="pl-c1">0</span>,
            <span class="pl-s1">pos_hint</span><span class="pl-c1">=</span>{<span class="pl-s">"center_y"</span>: <span class="pl-c1">0.5</span>}
        )

        <span class="pl-c"># FitImage without invalid properties</span>
        <span class="pl-s1">image</span> <span class="pl-c1">=</span> <span class="pl-en">FitImage</span>(
            <span class="pl-s1">source</span><span class="pl-c1">=</span><span class="pl-s">f"<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">food</span>[<span class="pl-c1">4</span>]<span class="pl-kos">}</span></span>"</span>,
            <span class="pl-s1">size_hint</span><span class="pl-c1">=</span>(<span class="pl-c1">1</span>, <span class="pl-c1">1</span>),
        )

        <span class="pl-s1">image_card</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">image</span>)

        <span class="pl-s1">right_section</span> <span class="pl-c1">=</span> <span class="pl-en">MDBoxLayout</span>(
            <span class="pl-s1">orientation</span><span class="pl-c1">=</span><span class="pl-s">"vertical"</span>,
            <span class="pl-s1">spacing</span><span class="pl-c1">=</span><span class="pl-s">"4dp"</span>,  
            <span class="pl-s1">size_hint_y</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,
            <span class="pl-s1">adaptive_height</span><span class="pl-c1">=</span><span class="pl-c1">True</span>,
            <span class="pl-s1">pos_hint</span><span class="pl-c1">=</span>{<span class="pl-s">"center_y"</span>: <span class="pl-c1">0.5</span>}
        )

        <span class="pl-s1">title_label</span> <span class="pl-c1">=</span> <span class="pl-en">MDLabel</span>( <span class="pl-c"># name of the food</span>
            <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">f"<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">food</span>[<span class="pl-c1">6</span>]<span class="pl-kos">}</span></span>"</span>,
            <span class="pl-s1">bold</span><span class="pl-c1">=</span><span class="pl-c1">True</span>,
            <span class="pl-s1">font_style</span><span class="pl-c1">=</span><span class="pl-s">"H5"</span>,
            <span class="pl-s1">halign</span><span class="pl-c1">=</span><span class="pl-s">"left"</span>,
            <span class="pl-s1">size_hint_y</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,
            <span class="pl-s1">adaptive_height</span><span class="pl-c1">=</span><span class="pl-c1">True</span>,
            <span class="pl-s1">font_size</span><span class="pl-c1">=</span><span class="pl-s">"18sp"</span>,
            <span class="pl-s1">valign</span><span class="pl-c1">=</span><span class="pl-s">"middle"</span>,
        )

        <span class="pl-s1">description_container</span> <span class="pl-c1">=</span> <span class="pl-en">MDBoxLayout</span>(
            <span class="pl-s1">orientation</span><span class="pl-c1">=</span><span class="pl-s">"horizontal"</span>,
            <span class="pl-s1">spacing</span><span class="pl-c1">=</span><span class="pl-s">"6dp"</span>, 
            <span class="pl-s1">size_hint_y</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,
            <span class="pl-s1">adaptive_height</span><span class="pl-c1">=</span><span class="pl-c1">True</span>
        )

        <span class="pl-s1">description_label</span> <span class="pl-c1">=</span> <span class="pl-en">MDLabel</span>( <span class="pl-c"># description of the food</span>
            <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">f"<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">food</span>[<span class="pl-c1">2</span>]<span class="pl-kos">}</span></span>"</span>,
            <span class="pl-s1">theme_text_color</span><span class="pl-c1">=</span><span class="pl-s">"Hint"</span>,
            <span class="pl-s1">size_hint_y</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,
            <span class="pl-s1">adaptive_height</span><span class="pl-c1">=</span><span class="pl-c1">True</span>,
            <span class="pl-s1">valign</span><span class="pl-c1">=</span><span class="pl-s">"middle"</span>,
        )

        <span class="pl-s1">price_label</span> <span class="pl-c1">=</span> <span class="pl-en">MDLabel</span>( <span class="pl-c"># price of the food</span>
            <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">f'¥<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-en">float</span>(<span class="pl-s1">re</span>.<span class="pl-c1">sub</span>(<span class="pl-s">r"[^0-9.]"</span>, <span class="pl-s">""</span>, <span class="pl-en">str</span>(<span class="pl-s1">food</span>[<span class="pl-c1">1</span>])))<span class="pl-kos">}</span></span>'</span>,
            <span class="pl-s1">theme_text_color</span><span class="pl-c1">=</span><span class="pl-s">"Secondary"</span>,
            <span class="pl-s1">font_size</span><span class="pl-c1">=</span><span class="pl-s">"12sp"</span>,
            <span class="pl-s1">size_hint</span><span class="pl-c1">=</span>(<span class="pl-c1">None</span>, <span class="pl-c1">None</span>),
            <span class="pl-s1">size</span><span class="pl-c1">=</span>(<span class="pl-s">"60dp"</span>, <span class="pl-s">"20dp"</span>),  
            <span class="pl-s1">valign</span><span class="pl-c1">=</span><span class="pl-s">"middle"</span>,
            <span class="pl-s1">halign</span><span class="pl-c1">=</span><span class="pl-s">"right"</span>,
        )


        <span class="pl-c"># Add description and price to the container</span>
        <span class="pl-s1">description_container</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">description_label</span>)
        <span class="pl-s1">description_container</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">price_label</span>)

        <span class="pl-c"># Add elements to right section</span>
        <span class="pl-s1">right_section</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">title_label</span>)
        <span class="pl-s1">right_section</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">description_container</span>)

        <span class="pl-s1">layout</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">image_card</span>)
        <span class="pl-s1">layout</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">right_section</span>)
        <span class="pl-s1">card</span>.<span class="pl-c1">add_widget</span>(<span class="pl-s1">layout</span>)

        <span class="pl-k">return</span> <span class="pl-s1">card</span></pre></div>
<p>A limitation of SQLite is that even if the type of data stored in a cell is declared, users can still insert values that are not of that data type. This is extremely detrimental when strings are inserted into values that are expected to be float, such as the price of a food listing. For the price of the food listing, the statement <code>float(re.sub(r"[^0-9.]", "", str(food[1])))</code> was used to make sure that the information is a float. If the user mistakenly enter '12e3.5t' as the price, then the statement would correct it to '123.5'. the <code>re.sub()</code> method replaces any character that is not in <code>0123456789.</code> with an empty string, removing any non-numerical character in <code>str(food[1])</code>, allowing it to be safely converted back to a float again. Converting <code>food[1]</code>, where the price is stored, to a string is necessary because the <code>re.sub()</code> takes string as an argument.</p>
<p>The reason why the check is implemented in the code while executing instead of when the data is entered is because if the software were to expand in the future, there are no guarantees that the developer would add a filter in data input, nor the effectiveness of that filter. Therefore, to prevent the code logic from breaking from receving the wrong data type, a filter must exist when the code is executing.</p>
<p>The code below shows another instance of how the check is added to convert from strings to floats that are suitable as an argument to the <code>place_order()</code> method.</p>
<div class="highlight highlight-source-python"><pre>    <span class="pl-k">def</span> <span class="pl-en">place_order</span>(<span class="pl-s1">self</span>, <span class="pl-s1">food_id</span>):
        <span class="pl-s1">db</span> <span class="pl-c1">=</span> <span class="pl-en">DatabaseManager</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"database.db"</span>)
        <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">f'''</span>
<span class="pl-s">        SELECT * FROM food_listing</span>
<span class="pl-s">        WHERE food_id = <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">food_id</span><span class="pl-kos">}</span></span></span>
<span class="pl-s">        '''</span>
        <span class="pl-s1">food</span> <span class="pl-c1">=</span> <span class="pl-s1">db</span>.<span class="pl-c1">execute</span>(<span class="pl-s1">query</span><span class="pl-c1">=</span><span class="pl-s1">query</span>)
        <span class="pl-s1">db</span>.<span class="pl-c1">close</span>()

        <span class="pl-v">CustomerDashboard</span>.<span class="pl-c1">order</span>.<span class="pl-c1">append</span>(<span class="pl-s1">food</span>)
        <span class="pl-s1">self</span>.<span class="pl-c1">ids</span>.<span class="pl-c1">cart</span>.<span class="pl-c1">text</span> <span class="pl-c1">=</span> <span class="pl-s">f'View cart: <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-en">len</span>(<span class="pl-v">CustomerDashboard</span>.<span class="pl-c1">order</span>)<span class="pl-kos">}</span></span> items, ¥<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-en">sum</span>(<span class="pl-en">float</span>(<span class="pl-s1">re</span>.<span class="pl-c1">sub</span>(<span class="pl-s">r"[^0-9.]"</span>, <span class="pl-s">""</span>, <span class="pl-en">str</span>(<span class="pl-s1">food</span>[<span class="pl-c1">0</span>][<span class="pl-c1">1</span>]))) <span class="pl-k">for</span> <span class="pl-s1">food</span> <span class="pl-c1">in</span> <span class="pl-v">CustomerDashboard</span>.<span class="pl-c1">order</span>):.2f<span class="pl-kos">}</span></span>'</span></pre></div>
<section data-footnotes="">
<ol>
<li id="user-content-fn-1">
<p>Juviler, J. (2023, August 30). What Is GUI? Graphical User Interfaces, Explained. Hubspot. <a href="https://blog.hubspot.com/website/what-is-gui" rel="nofollow">https://blog.hubspot.com/website/what-is-gui</a> <a href="http://localhost:6419/#fnref-1" data-footnote-backref="" aria-label="Back to reference 1">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>GeeksforGeeks. (2017, October 23). Python Language Advantages and Applications - GeeksforGeeks. GeeksforGeeks. <a href="https://www.geeksforgeeks.org/python-language-advantages-applications/" rel="nofollow">https://www.geeksforgeeks.org/python-language-advantages-applications/</a> <a href="http://localhost:6419/#fnref-2" data-footnote-backref="" aria-label="Back to reference 2">↩</a></p>
</li>
<li id="user-content-fn-3">
<p>KivyMD. (n.d.-b). Welcome to KivyMD’s documentation! — KivyMD 0.104.2.dev0 documentation. Kivymd.readthedocs.io. <a href="https://kivymd.readthedocs.io/en/latest/" rel="nofollow">https://kivymd.readthedocs.io/en/latest/</a> <a href="http://localhost:6419/#fnref-3" data-footnote-backref="" aria-label="Back to reference 3">↩</a> <a href="http://localhost:6419/#fnref-3-2" data-footnote-backref="" aria-label="Back to reference 3-2">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-4">
<p>IBM. (2021, October 20). Relational Databases. Ibm.com. <a href="https://www.ibm.com/think/topics/relational-databases" rel="nofollow">https://www.ibm.com/think/topics/relational-databases</a> <a href="http://localhost:6419/#fnref-4" data-footnote-backref="" aria-label="Back to reference 4">↩</a></p>
</li>
<li id="user-content-fn-5">
<p>SQLite. (2024, December 7). SQLite Home Page. <a href="http://www.sqlite.org/" rel="nofollow">Www.sqlite.org</a>. <a href="https://www.sqlite.org/" rel="nofollow">https://www.sqlite.org/</a> <a href="http://localhost:6419/#fnref-5" data-footnote-backref="" aria-label="Back to reference 5">↩</a></p>
</li>
<li id="user-content-fn-6">
<p>KivyMD. (n.d.-b). Welcome to KivyMD’s documentation! — KivyMD 0.104.2.dev0 documentation. Kivymd.readthedocs.io. <a href="https://kivymd.readthedocs.io/en/latest/" rel="nofollow">https://kivymd.readthedocs.io/en/latest/</a> <a href="http://localhost:6419/#fnref-6" data-footnote-backref="" aria-label="Back to reference 6">↩</a></p>
</li>
</ol>
</section>

                      </article>
                    </div>
                  </div>

                

              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src') && image.src !== image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }

    function scrollToHash() {
      if (location.hash && !document.querySelector(':target')) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }

    function autorefreshContent(eventSourceUrl) {
      var initialTitle = document.title;
      var contentElement = document.getElementById('grip-content');
      var source = new EventSource(eventSourceUrl);
      var isRendering = false;

      source.onmessage = function(ev) {
        var msg = JSON.parse(ev.data);
        if (msg.updating) {
          isRendering = true;
          document.title = '(Rendering) ' + document.title;
        } else {
          isRendering = false;
          document.title = initialTitle;
          contentElement.innerHTML = msg.content;
          showCanonicalImages();
        }
      }

      source.onerror = function(e) {
        if (e.readyState === EventSource.CLOSED && isRendering) {
          isRendering = false;
          document.title = initialTitle;
        }
      }
    }

    window.onhashchange = function() {
      scrollToHash();
    }

    window.onload = function() {
      scrollToHash();
    }

    showCanonicalImages();

    var autorefreshUrl = document.getElementById('preview-page').getAttribute('data-autorefresh-url');
    if (autorefreshUrl) {
      autorefreshContent(autorefreshUrl);
    }
  </script>

</body></html>